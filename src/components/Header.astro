---
import { SITE } from "@config";
import ThemeToggle from "./ThemeToggle.astro";

const pathname = new URL(Astro.request.url).pathname;
const isActive = (path: string) => pathname === path || pathname.startsWith(path + "/");
---

<header class="sticky top-0 z-50 bg-skin-fill/80 backdrop-blur-sm">
  <nav class="mx-auto flex max-w-3xl items-center justify-between px-4 py-6">
    <a href="/" class="text-2xl font-bold hover:text-skin-accent">
      {SITE.title}
    </a>
    <div class="flex items-center gap-6">
      <a
        href="/"
        class:list={[
          "hover:text-skin-accent",
          { "text-skin-accent": isActive("/") },
        ]}
      >
        首页
      </a>
      <a
        href="/posts"
        class:list={[
          "hover:text-skin-accent",
          { "text-skin-accent": isActive("/posts") },
        ]}
      >
        文章
      </a>
      <a
        href="/tags"
        class:list={[
          "hover:text-skin-accent",
          { "text-skin-accent": isActive("/tags") },
        ]}
      >
        标签
      </a>
      <a
        href="/about"
        class:list={[
          "hover:text-skin-accent",
          { "text-skin-accent": isActive("/about") },
        ]}
      >
        关于
      </a>
      <ThemeToggle />
    </div>
  </nav>
</header>
